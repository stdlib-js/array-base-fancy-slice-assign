// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./mod.d.ts" />
function t(t){return Object.keys(Object(t))}var n=void 0!==Object.keys;var r="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");function e(){return r&&"symbol"==typeof Symbol.toStringTag}var i=Object.prototype.toString;var o=Object.prototype.hasOwnProperty;function a(t,n){return null!=t&&o.call(t,n)}var u="function"==typeof Symbol?Symbol:void 0,f="function"==typeof u?u.toStringTag:"";var l=e()?function(t){var n,r,e;if(null==t)return i.call(t);r=t[f],n=a(t,f);try{t[f]=void 0}catch(n){return i.call(t)}return e=i.call(t),n?t[f]=r:delete t[f],e}:function(t){return i.call(t)};function c(t){return"[object Arguments]"===l(t)}var s=function(){return c(arguments)}(),p="function"==typeof Object.defineProperty?Object.defineProperty:null;var y=Object.defineProperty;function h(t){return"number"==typeof t}function g(t){var n,r="";for(n=0;n<t;n++)r+="0";return r}function m(t,n,r){var e=!1,i=n-t.length;return i<0||(function(t){return"-"===t[0]}(t)&&(e=!0,t=t.substr(1)),t=r?t+g(i):g(i)+t,e&&(t="-"+t)),t}var v=String.prototype.toLowerCase,w=String.prototype.toUpperCase;function b(t){var n,r,e;switch(t.specifier){case"b":n=2;break;case"o":n=8;break;case"x":case"X":n=16;break;default:n=10}if(r=t.arg,e=parseInt(r,10),!isFinite(e)){if(!h(r))throw new Error("invalid integer. Value: "+r);e=0}return e<0&&("u"===t.specifier||10!==n)&&(e=4294967295+e+1),e<0?(r=(-e).toString(n),t.precision&&(r=m(r,t.precision,t.padRight)),r="-"+r):(r=e.toString(n),e||t.precision?t.precision&&(r=m(r,t.precision,t.padRight)):r="",t.sign&&(r=t.sign+r)),16===n&&(t.alternate&&(r="0x"+r),r=t.specifier===w.call(t.specifier)?w.call(r):v.call(r)),8===n&&t.alternate&&"0"!==r.charAt(0)&&(r="0"+r),r}function d(t){return"string"==typeof t}var E=Math.abs,_=String.prototype.toLowerCase,x=String.prototype.toUpperCase,T=String.prototype.replace,A=/e\+(\d)$/,j=/e-(\d)$/,S=/^(\d+)$/,O=/^(\d+)e/,V=/\.0$/,k=/\.0*e/,R=/(\..*[^0])0*e/;function I(t){var n,r,e=parseFloat(t.arg);if(!isFinite(e)){if(!h(t.arg))throw new Error("invalid floating-point number. Value: "+r);e=t.arg}switch(t.specifier){case"e":case"E":r=e.toExponential(t.precision);break;case"f":case"F":r=e.toFixed(t.precision);break;case"g":case"G":E(e)<1e-4?((n=t.precision)>0&&(n-=1),r=e.toExponential(n)):r=e.toPrecision(t.precision),t.alternate||(r=T.call(r,R,"$1e"),r=T.call(r,k,"e"),r=T.call(r,V,""));break;default:throw new Error("invalid double notation. Value: "+t.specifier)}return r=T.call(r,A,"e+0$1"),r=T.call(r,j,"e-0$1"),t.alternate&&(r=T.call(r,S,"$1."),r=T.call(r,O,"$1.e")),e>=0&&t.sign&&(r=t.sign+r),r=t.specifier===x.call(t.specifier)?x.call(r):_.call(r)}function L(t){var n,r="";for(n=0;n<t;n++)r+=" ";return r}function B(t,n,r){var e=n-t.length;return e<0?t:t=r?t+L(e):L(e)+t}var F=String.fromCharCode,C=isNaN,P=Array.isArray;function U(t){var n={};return n.specifier=t.specifier,n.precision=void 0===t.precision?1:t.precision,n.width=t.width,n.flags=t.flags||"",n.mapping=t.mapping,n}function N(t){var n,r,e,i,o,a,u,f,l;if(!P(t))throw new TypeError("invalid argument. First argument must be an array. Value: `"+t+"`.");for(a="",u=1,f=0;f<t.length;f++)if(d(e=t[f]))a+=e;else{if(n=void 0!==e.precision,!(e=U(e)).specifier)throw new TypeError("invalid argument. Token is missing `specifier` property. Index: `"+f+"`. Value: `"+e+"`.");for(e.mapping&&(u=e.mapping),r=e.flags,l=0;l<r.length;l++)switch(i=r.charAt(l)){case" ":e.sign=" ";break;case"+":e.sign="+";break;case"-":e.padRight=!0,e.padZeros=!1;break;case"0":e.padZeros=r.indexOf("-")<0;break;case"#":e.alternate=!0;break;default:throw new Error("invalid flag: "+i)}if("*"===e.width){if(e.width=parseInt(arguments[u],10),u+=1,C(e.width))throw new TypeError("the argument for * width at position "+u+" is not a number. Value: `"+e.width+"`.");e.width<0&&(e.padRight=!0,e.width=-e.width)}if(n&&"*"===e.precision){if(e.precision=parseInt(arguments[u],10),u+=1,C(e.precision))throw new TypeError("the argument for * precision at position "+u+" is not a number. Value: `"+e.precision+"`.");e.precision<0&&(e.precision=1,n=!1)}switch(e.arg=arguments[u],e.specifier){case"b":case"o":case"x":case"X":case"d":case"i":case"u":n&&(e.padZeros=!1),e.arg=b(e);break;case"s":e.maxWidth=n?e.precision:-1;break;case"c":if(!C(e.arg)){if((o=parseInt(e.arg,10))<0||o>127)throw new Error("invalid character code. Value: "+e.arg);e.arg=C(o)?String(e.arg):F(o)}break;case"e":case"E":case"f":case"F":case"g":case"G":n||(e.precision=6),e.arg=I(e);break;default:throw new Error("invalid specifier: "+e.specifier)}e.maxWidth>=0&&e.arg.length>e.maxWidth&&(e.arg=e.arg.substring(0,e.maxWidth)),e.padZeros?e.arg=m(e.arg,e.width||e.precision,e.padRight):e.width&&(e.arg=B(e.arg,e.width,e.padRight)),a+=e.arg||"",u+=1}return a}var M=/%(?:([1-9]\d*)\$)?([0 +\-#]*)(\*|\d+)?(?:(\.)(\*|\d+)?)?[hlL]?([%A-Za-z])/g;function Y(t){var n={mapping:t[1]?parseInt(t[1],10):void 0,flags:t[2],width:t[3],precision:t[5],specifier:t[6]};return"."===t[4]&&void 0===t[5]&&(n.precision="1"),n}function W(t){var n,r,e,i;for(r=[],i=0,e=M.exec(t);e;)(n=t.slice(i,M.lastIndex-e[0].length)).length&&r.push(n),r.push(Y(e)),i=M.lastIndex,e=M.exec(t);return(n=t.slice(i)).length&&r.push(n),r}function $(t){return"string"==typeof t}function D(t){var n,r,e;if(!$(t))throw new TypeError(D("invalid argument. First argument must be a string. Value: `%s`.",t));for(n=W(t),(r=new Array(arguments.length))[0]=n,e=1;e<r.length;e++)r[e]=arguments[e];return N.apply(null,r)}var G,X=Object.prototype,Z=X.toString,z=X.__defineGetter__,J=X.__defineSetter__,H=X.__lookupGetter__,q=X.__lookupSetter__;G=function(){try{return p({},"x",{}),!0}catch(t){return!1}}()?y:function(t,n,r){var e,i,o,a;if("object"!=typeof t||null===t||"[object Array]"===Z.call(t))throw new TypeError(D("invalid argument. First argument must be an object. Value: `%s`.",t));if("object"!=typeof r||null===r||"[object Array]"===Z.call(r))throw new TypeError(D("invalid argument. Property descriptor must be an object. Value: `%s`.",r));if((i="value"in r)&&(H.call(t,n)||q.call(t,n)?(e=t.__proto__,t.__proto__=X,delete t[n],t[n]=r.value,t.__proto__=e):t[n]=r.value),o="get"in r,a="set"in r,i&&(o||a))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return o&&z&&z.call(t,n,r.get),a&&J&&J.call(t,n,r.set),t};var K=G;function Q(t,n,r){K(t,n,{configurable:!1,enumerable:!1,writable:!1,value:r})}function tt(t){return"string"==typeof t}var nt=String.prototype.valueOf;var rt=e();function et(t){return"object"==typeof t&&(t instanceof String||(rt?function(t){try{return nt.call(t),!0}catch(t){return!1}}(t):"[object String]"===l(t)))}function it(t){return tt(t)||et(t)}function ot(t){return"number"==typeof t}Q(it,"isPrimitive",tt),Q(it,"isObject",et);var at=Number,ut=at.prototype.toString;var ft=e();function lt(t){return"object"==typeof t&&(t instanceof at||(ft?function(t){try{return ut.call(t),!0}catch(t){return!1}}(t):"[object Number]"===l(t)))}function ct(t){return ot(t)||lt(t)}function st(t){return t!=t}function pt(t){return ot(t)&&st(t)}function yt(t){return lt(t)&&st(t.valueOf())}function ht(t){return pt(t)||yt(t)}Q(ct,"isPrimitive",ot),Q(ct,"isObject",lt),Q(ht,"isPrimitive",pt),Q(ht,"isObject",yt);var gt=Number.POSITIVE_INFINITY,mt=at.NEGATIVE_INFINITY,vt=Math.floor;function wt(t){return vt(t)===t}function bt(t){return t<gt&&t>mt&&wt(t)}function dt(t){return ot(t)&&bt(t)}function Et(t){return lt(t)&&bt(t.valueOf())}function _t(t){return dt(t)||Et(t)}Q(_t,"isPrimitive",dt),Q(_t,"isObject",Et);var xt=Object.prototype.propertyIsEnumerable;var Tt=!xt.call("beep","0");function At(t,n){var r;return null!=t&&(!(r=xt.call(t,n))&&Tt&&it(t)?!pt(n=+n)&&dt(n)&&n>=0&&n<t.length:r)}var jt=Array.isArray?Array.isArray:function(t){return"[object Array]"===l(t)};var St=s?c:function(t){return null!==t&&"object"==typeof t&&!jt(t)&&"number"==typeof t.length&&wt(t.length)&&t.length>=0&&t.length<=4294967295&&a(t,"callee")&&!At(t,"callee")},Ot=Array.prototype.slice;function Vt(t){return null!==t&&"object"==typeof t}Q(Vt,"isObjectLikeArray",function(t){if("function"!=typeof t)throw new TypeError(D("invalid argument. Must provide a function. Value: `%s`.",t));return function(n){var r,e;if(!jt(n))return!1;if(0===(r=n.length))return!1;for(e=0;e<r;e++)if(!1===t(n[e]))return!1;return!0}}(Vt));var kt=At((function(){}),"prototype"),Rt=!At({toString:null},"toString");function It(t){return"object"==typeof t&&null!==t&&"number"==typeof t.length&&wt(t.length)&&t.length>=0&&t.length<=9007199254740991}function Lt(t,n,r){var e,i;if(!It(t)&&!tt(t))throw new TypeError(D("invalid argument. First argument must be an array-like object. Value: `%s`.",t));if(0===(e=t.length))return-1;if(3===arguments.length){if(!dt(r))throw new TypeError(D("invalid argument. Third argument must be an integer. Value: `%s`.",r));if(r>=0){if(r>=e)return-1;i=r}else(i=e+r)<0&&(i=0)}else i=0;if(ht(n)){for(;i<e;i++)if(ht(t[i]))return i}else for(;i<e;i++)if(t[i]===n)return i;return-1}var Bt=/./;function Ft(t){return"boolean"==typeof t}var Ct=Boolean,Pt=Boolean.prototype.toString;var Ut=e();function Nt(t){return"object"==typeof t&&(t instanceof Ct||(Ut?function(t){try{return Pt.call(t),!0}catch(t){return!1}}(t):"[object Boolean]"===l(t)))}function Mt(t){return Ft(t)||Nt(t)}function Yt(){return new Function("return this;")()}Q(Mt,"isPrimitive",Ft),Q(Mt,"isObject",Nt);var Wt="object"==typeof self?self:null,$t="object"==typeof window?window:null,Dt="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},Gt="object"==typeof Dt?Dt:null,Xt="object"==typeof globalThis?globalThis:null;var Zt=function(t){if(arguments.length){if(!Ft(t))throw new TypeError(D("invalid argument. Must provide a boolean. Value: `%s`.",t));if(t)return Yt()}if(Xt)return Xt;if(Wt)return Wt;if($t)return $t;if(Gt)return Gt;throw new Error("unexpected error. Unable to resolve global object.")}(),zt=Zt.document&&Zt.document.childNodes,Jt=Int8Array;function Ht(){return/^\s*function\s*([^(]*)/i}var qt=/^\s*function\s*([^(]*)/i;function Kt(t){return Vt(t)&&(t._isBuffer||t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t))}function Qt(t){var n,r,e;if(("Object"===(r=l(t).slice(8,-1))||"Error"===r)&&t.constructor){if("string"==typeof(e=t.constructor).name)return e.name;if(n=qt.exec(e.toString()))return n[1]}return Kt(t)?"Buffer":r}Q(Ht,"REGEXP",qt);var tn="function"==typeof Bt||"object"==typeof Jt||"function"==typeof zt?function(t){return Qt(t).toLowerCase()}:function(t){var n;return null===t?"null":"object"===(n=typeof t)?Qt(t).toLowerCase():n};function nn(t){return t.constructor&&t.constructor.prototype===t}var rn=["console","external","frame","frameElement","frames","innerHeight","innerWidth","outerHeight","outerWidth","pageXOffset","pageYOffset","parent","scrollLeft","scrollTop","scrollX","scrollY","self","webkitIndexedDB","webkitStorageInfo","window"],en="undefined"==typeof window?void 0:window;var on=function(){var t;if("undefined"===tn(en))return!1;for(t in en)try{-1===Lt(rn,t)&&a(en,t)&&null!==en[t]&&"object"===tn(en[t])&&nn(en[t])}catch(t){return!0}return!1}(),an="undefined"!=typeof window;var un=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];var fn=n?function(){return 2!==(t(arguments)||"").length}(1,2)?function(n){return St(n)?t(Ot.call(n)):t(n)}:t:function(t){var n,r,e,i,o,u,f;if(i=[],St(t)){for(f=0;f<t.length;f++)i.push(f.toString());return i}if("string"==typeof t){if(t.length>0&&!a(t,"0"))for(f=0;f<t.length;f++)i.push(f.toString())}else{if(!1==(e="function"==typeof t)&&!Vt(t))return i;r=kt&&e}for(o in t)r&&"prototype"===o||!a(t,o)||i.push(String(o));if(Rt)for(n=function(t){if(!1===an&&!on)return nn(t);try{return nn(t)}catch(t){return!1}}(t),f=0;f<un.length;f++)u=un[f],n&&"constructor"===u||!a(t,u)||i.push(String(u));return i};function ln(t){return"object"==typeof t&&null!==t&&!jt(t)}function cn(t){return"function"===tn(t)}var sn,pn=Object,yn=Object.getPrototypeOf;sn=cn(Object.getPrototypeOf)?yn:function(t){var n=function(t){return t.__proto__}(t);return n||null===n?n:"[object Function]"===l(t.constructor)?t.constructor.prototype:t instanceof Object?Object.prototype:null};var hn=sn;var gn=Object.prototype;function mn(t){var n;return!!ln(t)&&(n=function(t){return null==t?null:(t=pn(t),hn(t))}(t),!n||!a(t,"constructor")&&a(n,"constructor")&&cn(n.constructor)&&"[object Function]"===l(n.constructor)&&a(n,"isPrototypeOf")&&cn(n.isPrototypeOf)&&(n===gn||function(t){var n;for(n in t)if(!a(t,n))return!1;return!0}(t)))}var vn=["binary","complex64","complex128","float32","float64","generic","int16","int32","int8","uint16","uint32","uint8","uint8c"];function wn(){return vn.slice()}var bn={all:["binary","complex64","complex128","float32","float64","generic","int16","int32","int8","uint16","uint32","uint8","uint8c"],floating_point:["complex64","complex128","float32","float64"],real_floating_point:["float32","float64"],complex_floating_point:["complex64","complex128"],integer:["int16","int32","int8","uint16","uint32","uint8","uint8c"],signed_integer:["int16","int32","int8"],unsigned_integer:["uint16","uint32","uint8","uint8c"],real:["float32","float64","int16","int32","int8","uint16","uint32","uint8","uint8c"],numeric:["complex64","complex128","float32","float64","int16","int32","int8","uint16","uint32","uint8","uint8c"]};function dn(){var t;return 0===arguments.length?bn.all.slice():(t=bn[arguments[0]])?t.slice():[]}function En(){return{bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256}}function _n(t,n,r){K(t,n,{configurable:!1,enumerable:!0,writable:!1,value:r})}Q(dn,"enum",En),function(t,n){var r,e,i;for(r=fn(n),i=0;i<r.length;i++)_n(t,e=r[i],n[e])}(dn,{bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256});var xn={bool:0,int8:1,uint8:2,uint8c:3,int16:4,uint16:5,int32:6,uint32:7,int64:8,uint64:9,float32:10,float64:11,complex64:12,complex128:13,binary:14,generic:15,notype:17,userdefined_type:256};function Tn(){return{bool:xn.bool,int8:xn.int8,uint8:xn.uint8,uint8c:xn.uint8c,int16:xn.int16,uint16:xn.uint16,int32:xn.int32,uint32:xn.uint32,int64:xn.int64,uint64:xn.uint64,float32:xn.float32,float64:xn.float64,complex64:xn.complex64,complex128:xn.complex128,binary:xn.binary,generic:xn.generic,notype:xn.notype,userdefined_type:xn.userdefined_type}}Q(wn,"enum",Tn),function(t,n){var r,e,i;for(r=fn(n),i=0;i<r.length;i++)_n(t,e=r[i],n[e])}(wn,Tn());var An=function(t,n){var r,e,i,o,u,f,l,c=!0;if(!Vt(t))throw new TypeError(D("invalid argument. First argument must be an object (except null). Value: `%s`.",t));if(arguments.length>1){if(!mn(n))throw new TypeError(D("invalid argument. Options argument must be an object. Value: `%s`.",n));if(a(n,"duplicates")&&!Ft(c=n.duplicates))throw new TypeError(D("invalid option. `%s` option must be a boolean. Option: `%s`.","duplicates",c))}if(e=(r=fn(t)).length,u={},c)for(l=0;l<e;l++)a(u,o=t[i=r[l]])?(f=u[o],jt(f)?u[o].push(i):u[o]=[f,i]):u[o]=i;else for(l=0;l<e;l++)u[t[i=r[l]]]=i;return u}(Tn(),{duplicates:!1});var jn=Tn();function Sn(t){var n=typeof t;return"string"===n?function(t){var n=jn[t];return"number"==typeof n?n:null}(t)?t:null:"number"===n?function(t){var n=An[t];return"string"==typeof n?n:null}(t):null}var On,Vn={float64:{float64:1,float32:1,int32:0,int16:0,int8:0,uint32:0,uint16:0,uint8:0,uint8c:0,complex128:1,complex64:1,generic:1},float32:{float64:1,float32:1,int32:0,int16:0,int8:0,uint32:0,uint16:0,uint8:0,uint8c:0,complex128:1,complex64:1,generic:1},int32:{float64:1,float32:0,int32:1,int16:0,int8:0,uint32:0,uint16:0,uint8:0,uint8c:0,complex128:1,complex64:0,generic:1},int16:{float64:1,float32:1,int32:1,int16:1,int8:0,uint32:0,uint16:0,uint8:0,uint8c:0,complex128:1,complex64:1,generic:1},int8:{float64:1,float32:1,int32:1,int16:1,int8:1,uint32:0,uint16:0,uint8:0,uint8c:0,complex128:1,complex64:1,generic:1},uint32:{float64:1,float32:0,int32:0,int16:0,int8:0,uint32:1,uint16:0,uint8:0,uint8c:0,complex128:1,complex64:0,generic:1},uint16:{float64:1,float32:1,int32:1,int16:0,int8:0,uint32:1,uint16:1,uint8:0,uint8c:0,complex128:1,complex64:1,generic:1},uint8:{float64:1,float32:1,int32:1,int16:1,int8:0,uint32:1,uint16:1,uint8:1,uint8c:1,complex128:1,complex64:1,generic:1},uint8c:{float64:1,float32:1,int32:1,int16:1,int8:0,uint32:1,uint16:1,uint8:1,uint8c:1,complex128:1,complex64:1,generic:1},complex128:{float64:0,float32:0,int32:0,int16:0,int8:0,uint32:0,uint16:0,uint8:0,uint8c:0,complex128:1,complex64:1,generic:1},complex64:{float64:0,float32:0,int32:0,int16:0,int8:0,uint32:0,uint16:0,uint8:0,uint8c:0,complex128:1,complex64:1,generic:1},generic:{float64:0,float32:0,int32:0,int16:0,int8:0,uint32:0,uint16:0,uint8:0,uint8c:0,complex128:0,complex64:0,generic:1}};function kn(){var t,n,r,e,i,o,a,u,f;for(r={},n=(t=fn(Vn)).length,f=0;f<n;f++){for(i=t[f],a=Vn[i],e={},u=0;u<n;u++)e[o=t[u]]=a[o];r[i]=e}return r}function Rn(){var t,n,r,e,i,o,a,u,f;for(r={},n=(t=fn(Vn)).length,f=0;f<n;f++){for(i=t[f],a=Vn[i],e=[],u=0;u<n;u++)1===a[o=t[u]]&&e.push(o);r[i]=e}return r}var In=function(t){return 0===arguments.length?kn():(void 0===On&&(On=Rn()),t=Sn(t),a(On,t)?On[t].slice():null)}();function Ln(t){return"function"==typeof t.get&&"function"==typeof t.set}var Bn={complex128:function(t,n){return t.get(n)},complex64:function(t,n){return t.get(n)},default:function(t,n){return t.get(n)}};function Fn(t){var n=Bn[t];return"function"==typeof n?n:Bn.default}var Cn={float64:function(t,n){return t[n]},float32:function(t,n){return t[n]},int32:function(t,n){return t[n]},int16:function(t,n){return t[n]},int8:function(t,n){return t[n]},uint32:function(t,n){return t[n]},uint16:function(t,n){return t[n]},uint8:function(t,n){return t[n]},uint8c:function(t,n){return t[n]},generic:function(t,n){return t[n]},default:function(t,n){return t[n]}};var Pn={Float32Array:"float32",Float64Array:"float64",Array:"generic",Int16Array:"int16",Int32Array:"int32",Int8Array:"int8",Uint16Array:"uint16",Uint32Array:"uint32",Uint8Array:"uint8",Uint8ClampedArray:"uint8c",Complex64Array:"complex64",Complex128Array:"complex128"},Un="function"==typeof Float64Array;var Nn="function"==typeof Float64Array?Float64Array:null;var Mn,Yn="function"==typeof Float64Array?Float64Array:void 0;Mn=function(){var t,n,r;if("function"!=typeof Nn)return!1;try{n=new Nn([1,3.14,-3.14,NaN]),r=n,t=(Un&&r instanceof Float64Array||"[object Float64Array]"===l(r))&&1===n[0]&&3.14===n[1]&&-3.14===n[2]&&n[3]!=n[3]}catch(n){t=!1}return t}()?Yn:function(){throw new Error("not implemented")};var Wn=Mn,$n="function"==typeof Float32Array;var Dn="function"==typeof Float32Array?Float32Array:null;var Gn,Xn="function"==typeof Float32Array?Float32Array:void 0;Gn=function(){var t,n,r;if("function"!=typeof Dn)return!1;try{n=new Dn([1,3.14,-3.14,5e40]),r=n,t=($n&&r instanceof Float32Array||"[object Float32Array]"===l(r))&&1===n[0]&&3.140000104904175===n[1]&&-3.140000104904175===n[2]&&n[3]===gt}catch(n){t=!1}return t}()?Xn:function(){throw new Error("not implemented")};var Zn=Gn,zn="function"==typeof Uint32Array;var Jn="function"==typeof Uint32Array?Uint32Array:null;var Hn,qn="function"==typeof Uint32Array?Uint32Array:void 0;Hn=function(){var t,n,r;if("function"!=typeof Jn)return!1;try{n=new Jn(n=[1,3.14,-3.14,4294967296,4294967297]),r=n,t=(zn&&r instanceof Uint32Array||"[object Uint32Array]"===l(r))&&1===n[0]&&3===n[1]&&4294967293===n[2]&&0===n[3]&&1===n[4]}catch(n){t=!1}return t}()?qn:function(){throw new Error("not implemented")};var Kn=Hn,Qn="function"==typeof Int32Array;var tr="function"==typeof Int32Array?Int32Array:null;var nr,rr="function"==typeof Int32Array?Int32Array:void 0;nr=function(){var t,n,r;if("function"!=typeof tr)return!1;try{n=new tr([1,3.14,-3.14,2147483648]),r=n,t=(Qn&&r instanceof Int32Array||"[object Int32Array]"===l(r))&&1===n[0]&&3===n[1]&&-3===n[2]&&-2147483648===n[3]}catch(n){t=!1}return t}()?rr:function(){throw new Error("not implemented")};var er=nr,ir="function"==typeof Uint16Array;var or="function"==typeof Uint16Array?Uint16Array:null;var ar,ur="function"==typeof Uint16Array?Uint16Array:void 0;ar=function(){var t,n,r;if("function"!=typeof or)return!1;try{n=new or(n=[1,3.14,-3.14,65536,65537]),r=n,t=(ir&&r instanceof Uint16Array||"[object Uint16Array]"===l(r))&&1===n[0]&&3===n[1]&&65533===n[2]&&0===n[3]&&1===n[4]}catch(n){t=!1}return t}()?ur:function(){throw new Error("not implemented")};var fr=ar,lr="function"==typeof Int16Array;var cr="function"==typeof Int16Array?Int16Array:null;var sr,pr="function"==typeof Int16Array?Int16Array:void 0;sr=function(){var t,n,r;if("function"!=typeof cr)return!1;try{n=new cr([1,3.14,-3.14,32768]),r=n,t=(lr&&r instanceof Int16Array||"[object Int16Array]"===l(r))&&1===n[0]&&3===n[1]&&-3===n[2]&&-32768===n[3]}catch(n){t=!1}return t}()?pr:function(){throw new Error("not implemented")};var yr=sr,hr="function"==typeof Uint8Array;var gr="function"==typeof Uint8Array?Uint8Array:null;var mr,vr="function"==typeof Uint8Array?Uint8Array:void 0;mr=function(){var t,n,r;if("function"!=typeof gr)return!1;try{n=new gr(n=[1,3.14,-3.14,256,257]),r=n,t=(hr&&r instanceof Uint8Array||"[object Uint8Array]"===l(r))&&1===n[0]&&3===n[1]&&253===n[2]&&0===n[3]&&1===n[4]}catch(n){t=!1}return t}()?vr:function(){throw new Error("not implemented")};var wr=mr,br="function"==typeof Uint8ClampedArray;var dr="function"==typeof Uint8ClampedArray?Uint8ClampedArray:null;var Er,_r="function"==typeof Uint8ClampedArray?Uint8ClampedArray:void 0;Er=function(){var t,n,r;if("function"!=typeof dr)return!1;try{n=new dr([-1,0,1,3.14,4.99,255,256]),r=n,t=(br&&r instanceof Uint8ClampedArray||"[object Uint8ClampedArray]"===l(r))&&0===n[0]&&0===n[1]&&1===n[2]&&3===n[3]&&5===n[4]&&255===n[5]&&255===n[6]}catch(n){t=!1}return t}()?_r:function(){throw new Error("not implemented")};var xr=Er,Tr="function"==typeof Int8Array;var Ar="function"==typeof Int8Array?Int8Array:null;var jr,Sr="function"==typeof Int8Array?Int8Array:void 0;jr=function(){var t,n,r;if("function"!=typeof Ar)return!1;try{n=new Ar([1,3.14,-3.14,128]),r=n,t=(Tr&&r instanceof Int8Array||"[object Int8Array]"===l(r))&&1===n[0]&&3===n[1]&&-3===n[2]&&-128===n[3]}catch(n){t=!1}return t}()?Sr:function(){throw new Error("not implemented")};var Or=jr;function Vr(t){return dt(t)&&t>=0}function kr(t){return Et(t)&&t.valueOf()>=0}function Rr(t){return Vr(t)||kr(t)}Q(Rr,"isPrimitive",Vr),Q(Rr,"isObject",kr);function Ir(t){return"object"==typeof t&&null!==t&&"number"==typeof t.length&&wt(t.length)&&t.length>=0&&t.length<=4294967295}var Lr="function"==typeof ArrayBuffer;function Br(t){return Lr&&t instanceof ArrayBuffer||"[object ArrayBuffer]"===l(t)}function Fr(t,n){if(!(this instanceof Fr))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!ot(t))throw new TypeError(D("invalid argument. Real component must be a number. Value: `%s`.",t));if(!ot(n))throw new TypeError(D("invalid argument. Imaginary component must be a number. Value: `%s`.",n));return K(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:t}),K(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:n}),this}Q(Fr,"BYTES_PER_ELEMENT",8),Q(Fr.prototype,"BYTES_PER_ELEMENT",8),Q(Fr.prototype,"byteLength",16),Q(Fr.prototype,"toString",(function(){var t=""+this.re;return this.im<0?t+=" - "+-this.im:t+=" + "+this.im,t+="i"})),Q(Fr.prototype,"toJSON",(function(){var t={type:"Complex128"};return t.re=this.re,t.im=this.im,t}));var Cr="function"==typeof Math.fround?Math.fround:null,Pr=new Zn(1);var Ur="function"==typeof Cr?Cr:function(t){return Pr[0]=t,Pr[0]};function Nr(t,n){if(!(this instanceof Nr))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!ot(t))throw new TypeError(D("invalid argument. Real component must be a number. Value: `%s`.",t));if(!ot(n))throw new TypeError(D("invalid argument. Imaginary component must be a number. Value: `%s`.",n));return K(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:Ur(t)}),K(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:Ur(n)}),this}function Mr(t){return t instanceof Fr||t instanceof Nr||"object"==typeof t&&null!==t&&"number"==typeof t.re&&"number"==typeof t.im}function Yr(t){return wt(t/2)}function Wr(){return"function"==typeof u&&"symbol"==typeof u("foo")&&a(u,"iterator")&&"symbol"==typeof u.iterator}Q(Nr,"BYTES_PER_ELEMENT",4),Q(Nr.prototype,"BYTES_PER_ELEMENT",4),Q(Nr.prototype,"byteLength",8),Q(Nr.prototype,"toString",(function(){var t=""+this.re;return this.im<0?t+=" - "+-this.im:t+=" + "+this.im,t+="i"})),Q(Nr.prototype,"toJSON",(function(){var t={type:"Complex64"};return t.re=this.re,t.im=this.im,t}));var $r=Wr()?Symbol.iterator:null;function Dr(t,n,r){K(t,n,{configurable:!1,enumerable:!1,get:r})}function Gr(t){return t.re}function Xr(t){return t.im}function Zr(t,n){return new Zn(t.buffer,t.byteOffset+t.BYTES_PER_ELEMENT*n,2*(t.length-n))}function zr(t,n){return new Wn(t.buffer,t.byteOffset+t.BYTES_PER_ELEMENT*n,2*(t.length-n))}var Jr={float64:function(t,n){return t[n]},float32:function(t,n){return t[n]},int32:function(t,n){return t[n]},int16:function(t,n){return t[n]},int8:function(t,n){return t[n]},uint32:function(t,n){return t[n]},uint16:function(t,n){return t[n]},uint8:function(t,n){return t[n]},uint8c:function(t,n){return t[n]},generic:function(t,n){return t[n]},default:function(t,n){return t[n]}};function Hr(t){var n=Jr[t];return"function"==typeof n?n:Jr.default}var qr={complex128:function(t,n){return t.get(n)},complex64:function(t,n){return t.get(n)},default:function(t,n){return t.get(n)}};function Kr(t){var n=qr[t];return"function"==typeof n?n:qr.default}function Qr(t){var n,r,e;for(n=[];!(r=t.next()).done;)if(Ir(e=r.value)&&e.length>=2)n.push(e[0],e[1]);else{if(!Mr(e))return new TypeError(D("invalid argument. An iterator must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",e));n.push(Gr(e),Xr(e))}return n}function te(t,n,r){var e,i,o,a;for(e=[],a=-1;!(i=t.next()).done;)if(a+=1,Ir(o=n.call(r,i.value,a))&&o.length>=2)e.push(o[0],o[1]);else{if(!Mr(o))return new TypeError(D("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",o));e.push(Gr(o),Xr(o))}return e}function ne(t,n){var r,e,i,o;for(r=n.length,o=0,i=0;i<r;i++){if(!Mr(e=n[i]))return null;t[o]=Gr(e),t[o+1]=Xr(e),o+=2}return t}var re=2*Zn.BYTES_PER_ELEMENT,ee=Wr();function ie(t){return t instanceof fe||"object"==typeof t&&null!==t&&("Complex64Array"===t.constructor.name||"Complex128Array"===t.constructor.name)&&"number"==typeof t._length&&"object"==typeof t._buffer}function oe(t){return t===fe||"Complex128Array"===t.name}function ae(t){return"object"==typeof t&&null!==t&&"Complex64Array"===t.constructor.name&&t.BYTES_PER_ELEMENT===re}function ue(t){return"object"==typeof t&&null!==t&&"Complex128Array"===t.constructor.name&&t.BYTES_PER_ELEMENT===2*re}function fe(){var t,n,r,e;if(n=arguments.length,!(this instanceof fe))return 0===n?new fe:1===n?new fe(arguments[0]):2===n?new fe(arguments[0],arguments[1]):new fe(arguments[0],arguments[1],arguments[2]);if(0===n)r=new Zn(0);else if(1===n)if(Vr(arguments[0]))r=new Zn(2*arguments[0]);else if(It(arguments[0]))if((e=(r=arguments[0]).length)&&jt(r)&&Mr(r[0])){if(null===(r=ne(new Zn(2*e),r))){if(!Yr(e))throw new RangeError(D("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",e));r=new Zn(arguments[0])}}else{if(ae(r))r=Zr(r,0);else if(ue(r))r=zr(r,0);else if(!Yr(e))throw new RangeError(D("invalid argument. Array-like object and typed array arguments must have a length which is a multiple of two. Length: `%u`.",e));r=new Zn(r)}else if(Br(arguments[0])){if(!wt((r=arguments[0]).byteLength/re))throw new RangeError(D("invalid argument. ArrayBuffer byte length must be a multiple of %u. Byte length: `%u`.",re,r.byteLength));r=new Zn(r)}else{if(!ln(arguments[0]))throw new TypeError(D("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",arguments[0]));if(r=arguments[0],!1===ee)throw new TypeError(D("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `%s`.",r));if(!cn(r[$r]))throw new TypeError(D("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",r));if(!cn((r=r[$r]()).next))throw new TypeError(D("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",r));if((r=Qr(r))instanceof Error)throw r;r=new Zn(r)}else{if(!Br(r=arguments[0]))throw new TypeError(D("invalid argument. First argument must be an ArrayBuffer. Value: `%s`.",r));if(!Vr(t=arguments[1]))throw new TypeError(D("invalid argument. Byte offset must be a nonnegative integer. Value: `%s`.",t));if(!wt(t/re))throw new RangeError(D("invalid argument. Byte offset must be a multiple of %u. Value: `%u`.",re,t));if(2===n){if(!wt((e=r.byteLength-t)/re))throw new RangeError(D("invalid arguments. ArrayBuffer view byte length must be a multiple of %u. View byte length: `%u`.",re,e));r=new Zn(r,t)}else{if(!Vr(e=arguments[2]))throw new TypeError(D("invalid argument. Length must be a nonnegative integer. Value: `%s`.",e));if(e*re>r.byteLength-t)throw new RangeError(D("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `%u`.",e*re));r=new Zn(r,t,2*e)}}return Q(this,"_buffer",r),Q(this,"_length",r.length/2),this}function le(t){return t.re}function ce(t){return t.im}Q(fe,"BYTES_PER_ELEMENT",re),Q(fe,"name","Complex64Array"),Q(fe,"from",(function(t){var n,r,e,i,o,a,u,f,l,c,s,p;if(!cn(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!oe(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if((r=arguments.length)>1){if(!cn(e=arguments[1]))throw new TypeError(D("invalid argument. Second argument must be a function. Value: `%s`.",e));r>2&&(n=arguments[2])}if(ie(t)){if(f=t.length,e){for(o=(i=new this(f))._buffer,p=0,s=0;s<f;s++){if(Mr(c=e.call(n,t.get(s),s)))o[p]=Gr(c),o[p+1]=Xr(c);else{if(!(Ir(c)&&c.length>=2))throw new TypeError(D("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",c));o[p]=c[0],o[p+1]=c[1]}p+=2}return i}return new this(t)}if(It(t)){if(e){for(f=t.length,u=t.get&&t.set?Kr("default"):Hr("default"),s=0;s<f;s++)if(!Mr(u(t,s))){l=!0;break}if(l){if(!Yr(f))throw new RangeError(D("invalid argument. First argument must have a length which is a multiple of %u. Length: `%u`.",2,f));for(o=(i=new this(f/2))._buffer,s=0;s<f;s++)o[s]=e.call(n,u(t,s),s);return i}for(o=(i=new this(f))._buffer,p=0,s=0;s<f;s++){if(Mr(c=e.call(n,u(t,s),s)))o[p]=Gr(c),o[p+1]=Xr(c);else{if(!(Ir(c)&&c.length>=2))throw new TypeError(D("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",c));o[p]=c[0],o[p+1]=c[1]}p+=2}return i}return new this(t)}if(ln(t)&&ee&&cn(t[$r])){if(!cn((o=t[$r]()).next))throw new TypeError(D("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",t));if((a=e?te(o,e,n):Qr(o))instanceof Error)throw a;for(o=(i=new this(f=a.length/2))._buffer,s=0;s<f;s++)o[s]=a[s];return i}throw new TypeError(D("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",t))})),Q(fe,"of",(function(){var t,n;if(!cn(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!oe(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);return new this(t)})),Dr(fe.prototype,"buffer",(function(){return this._buffer.buffer})),Dr(fe.prototype,"byteLength",(function(){return this._buffer.byteLength})),Dr(fe.prototype,"byteOffset",(function(){return this._buffer.byteOffset})),Q(fe.prototype,"BYTES_PER_ELEMENT",fe.BYTES_PER_ELEMENT),Q(fe.prototype,"copyWithin",(function(t,n){if(!ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return 2===arguments.length?this._buffer.copyWithin(2*t,2*n):this._buffer.copyWithin(2*t,2*n,2*arguments[2]),this})),Q(fe.prototype,"entries",(function(){var t,n,r,e,i,o,a;if(!ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return n=this,t=this._buffer,e=this._length,o=-1,a=-2,Q(r={},"next",(function(){var n;if(o+=1,i||o>=e)return{done:!0};return n=new Nr(t[a+=2],t[a+1]),{value:[o,n],done:!1}})),Q(r,"return",(function(t){if(i=!0,arguments.length)return{value:t,done:!0};return{done:!0}})),$r&&Q(r,$r,(function(){return n.entries()})),r})),Q(fe.prototype,"get",(function(t){var n;if(!ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Vr(t))throw new TypeError(D("invalid argument. Must provide a nonnegative integer. Value: `%s`.",t));if(!(t>=this._length))return new Nr((n=this._buffer)[t*=2],n[t+1])})),Dr(fe.prototype,"length",(function(){return this._length})),Q(fe.prototype,"set",(function(t){var n,r,e,i,o,a,u,f,l;if(!ie(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(e=this._buffer,arguments.length>1){if(!Vr(r=arguments[1]))throw new TypeError(D("invalid argument. Index argument must be a nonnegative integer. Value: `%s`.",r))}else r=0;if(Mr(t)){if(r>=this._length)throw new RangeError(D("invalid argument. Index argument is out-of-bounds. Value: `%u`.",r));return e[r*=2]=Gr(t),void(e[r+1]=Xr(t))}if(ie(t)){if(r+(a=t._length)>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(n=t._buffer,l=e.byteOffset+r*re,n.buffer===e.buffer&&n.byteOffset<l&&n.byteOffset+n.byteLength>l){for(i=new Zn(n.length),f=0;f<n.length;f++)i[f]=n[f];n=i}for(r*=2,l=0,f=0;f<a;f++)e[r]=n[l],e[r+1]=n[l+1],r+=2,l+=2}else{if(!It(t))throw new TypeError(D("invalid argument. First argument must be either a complex number, an array-like object, or a complex number array. Value: `%s`.",t));for(a=t.length,f=0;f<a;f++)if(!Mr(t[f])){o=!0;break}if(o){if(!Yr(a))throw new RangeError(D("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",a));if(r+a/2>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(n=t,l=e.byteOffset+r*re,n.buffer===e.buffer&&n.byteOffset<l&&n.byteOffset+n.byteLength>l){for(i=new Zn(a),f=0;f<a;f++)i[f]=n[f];n=i}for(r*=2,a/=2,l=0,f=0;f<a;f++)e[r]=n[l],e[r+1]=n[l+1],r+=2,l+=2;return}if(r+a>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");for(r*=2,f=0;f<a;f++)u=t[f],e[r]=Gr(u),e[r+1]=Xr(u),r+=2}}));var se={float64:function(t,n){return t[n]},float32:function(t,n){return t[n]},int32:function(t,n){return t[n]},int16:function(t,n){return t[n]},int8:function(t,n){return t[n]},uint32:function(t,n){return t[n]},uint16:function(t,n){return t[n]},uint8:function(t,n){return t[n]},uint8c:function(t,n){return t[n]},generic:function(t,n){return t[n]},default:function(t,n){return t[n]}};function pe(t){var n=se[t];return"function"==typeof n?n:se.default}var ye={complex128:function(t,n){return t.get(n)},complex64:function(t,n){return t.get(n)},default:function(t,n){return t.get(n)}};function he(t){var n=ye[t];return"function"==typeof n?n:ye.default}function ge(t){var n,r,e;for(n=[];!(r=t.next()).done;)if(Ir(e=r.value)&&e.length>=2)n.push(e[0],e[1]);else{if(!Mr(e))return new TypeError(D("invalid argument. An iterator must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",e));n.push(le(e),ce(e))}return n}function me(t,n,r){var e,i,o,a;for(e=[],a=-1;!(i=t.next()).done;)if(a+=1,Ir(o=n.call(r,i.value,a))&&o.length>=2)e.push(o[0],o[1]);else{if(!Mr(o))return new TypeError(D("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",o));e.push(le(o),ce(o))}return e}function ve(t,n){var r,e,i,o;for(r=n.length,o=0,i=0;i<r;i++){if(!Mr(e=n[i]))return null;t[o]=le(e),t[o+1]=ce(e),o+=2}return t}var we=2*Wn.BYTES_PER_ELEMENT,be=Wr();function de(t){return t instanceof Te||"object"==typeof t&&null!==t&&("Complex64Array"===t.constructor.name||"Complex128Array"===t.constructor.name)&&"number"==typeof t._length&&"object"==typeof t._buffer}function Ee(t){return t===Te||"Complex64Array"===t.name}function _e(t){return"object"==typeof t&&null!==t&&"Complex64Array"===t.constructor.name&&t.BYTES_PER_ELEMENT===we/2}function xe(t){return"object"==typeof t&&null!==t&&"Complex128Array"===t.constructor.name&&t.BYTES_PER_ELEMENT===we}function Te(){var t,n,r,e;if(n=arguments.length,!(this instanceof Te))return 0===n?new Te:1===n?new Te(arguments[0]):2===n?new Te(arguments[0],arguments[1]):new Te(arguments[0],arguments[1],arguments[2]);if(0===n)r=new Wn(0);else if(1===n)if(Vr(arguments[0]))r=new Wn(2*arguments[0]);else if(It(arguments[0]))if((e=(r=arguments[0]).length)&&jt(r)&&Mr(r[0])){if(null===(r=ve(new Wn(2*e),r))){if(!Yr(e))throw new RangeError(D("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",e));r=new Wn(arguments[0])}}else{if(_e(r))r=Zr(r,0);else if(xe(r))r=zr(r,0);else if(!Yr(e))throw new RangeError(D("invalid argument. Array-like object and typed array arguments must have a length which is a multiple of two. Length: `%u`.",e));r=new Wn(r)}else if(Br(arguments[0])){if(!wt((r=arguments[0]).byteLength/we))throw new RangeError(D("invalid argument. ArrayBuffer byte length must be a multiple of %u. Byte length: `%u`.",we,r.byteLength));r=new Wn(r)}else{if(!ln(arguments[0]))throw new TypeError(D("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",arguments[0]));if(r=arguments[0],!1===be)throw new TypeError(D("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `%s`.",r));if(!cn(r[$r]))throw new TypeError(D("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",r));if(!cn((r=r[$r]()).next))throw new TypeError(D("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",r));if((r=ge(r))instanceof Error)throw r;r=new Wn(r)}else{if(!Br(r=arguments[0]))throw new TypeError(D("invalid argument. First argument must be an ArrayBuffer. Value: `%s`.",r));if(!Vr(t=arguments[1]))throw new TypeError(D("invalid argument. Byte offset must be a nonnegative integer. Value: `%s`.",t));if(!wt(t/we))throw new RangeError(D("invalid argument. Byte offset must be a multiple of %u. Value: `%u`.",we,t));if(2===n){if(!wt((e=r.byteLength-t)/we))throw new RangeError(D("invalid arguments. ArrayBuffer view byte length must be a multiple of %u. View byte length: `%u`.",we,e));r=new Wn(r,t)}else{if(!Vr(e=arguments[2]))throw new TypeError(D("invalid argument. Length must be a nonnegative integer. Value: `%s`.",e));if(e*we>r.byteLength-t)throw new RangeError(D("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `%u`.",e*we));r=new Wn(r,t,2*e)}}return Q(this,"_buffer",r),Q(this,"_length",r.length/2),this}Q(Te,"BYTES_PER_ELEMENT",we),Q(Te,"name","Complex128Array"),Q(Te,"from",(function(t){var n,r,e,i,o,a,u,f,l,c,s,p;if(!cn(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Ee(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if((r=arguments.length)>1){if(!cn(e=arguments[1]))throw new TypeError(D("invalid argument. Second argument must be a function. Value: `%s`.",e));r>2&&(n=arguments[2])}if(de(t)){if(f=t.length,e){for(o=(i=new this(f))._buffer,p=0,s=0;s<f;s++){if(Mr(c=e.call(n,t.get(s),s)))o[p]=le(c),o[p+1]=ce(c);else{if(!(Ir(c)&&c.length>=2))throw new TypeError(D("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",c));o[p]=c[0],o[p+1]=c[1]}p+=2}return i}return new this(t)}if(It(t)){if(e){for(f=t.length,u=t.get&&t.set?he("default"):pe("default"),s=0;s<f;s++)if(!Mr(u(t,s))){l=!0;break}if(l){if(!Yr(f))throw new RangeError(D("invalid argument. First argument must have a length which is a multiple of two. Length: `%u`.",f));for(o=(i=new this(f/2))._buffer,s=0;s<f;s++)o[s]=e.call(n,u(t,s),s);return i}for(o=(i=new this(f))._buffer,p=0,s=0;s<f;s++){if(Mr(c=e.call(n,u(t,s),s)))o[p]=le(c),o[p+1]=ce(c);else{if(!(Ir(c)&&c.length>=2))throw new TypeError(D("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `%s`.",c));o[p]=c[0],o[p+1]=c[1]}p+=2}return i}return new this(t)}if(ln(t)&&be&&cn(t[$r])){if(!cn((o=t[$r]()).next))throw new TypeError(D("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",t));if((a=e?me(o,e,n):ge(o))instanceof Error)throw a;for(o=(i=new this(f=a.length/2))._buffer,s=0;s<f;s++)o[s]=a[s];return i}throw new TypeError(D("invalid argument. First argument must be an array-like object or an iterable. Value: `%s`.",t))})),Q(Te,"of",(function(){var t,n;if(!cn(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Ee(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);return new this(t)})),Dr(Te.prototype,"buffer",(function(){return this._buffer.buffer})),Dr(Te.prototype,"byteLength",(function(){return this._buffer.byteLength})),Dr(Te.prototype,"byteOffset",(function(){return this._buffer.byteOffset})),Q(Te.prototype,"BYTES_PER_ELEMENT",Te.BYTES_PER_ELEMENT),Q(Te.prototype,"copyWithin",(function(t,n){if(!de(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return 2===arguments.length?this._buffer.copyWithin(2*t,2*n):this._buffer.copyWithin(2*t,2*n,2*arguments[2]),this})),Q(Te.prototype,"entries",(function(){var t,n,r,e,i,o,a;if(!de(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return n=this,t=this._buffer,e=this._length,o=-1,a=-2,Q(r={},"next",(function(){var n;if(o+=1,i||o>=e)return{done:!0};return n=new Fr(t[a+=2],t[a+1]),{value:[o,n],done:!1}})),Q(r,"return",(function(t){if(i=!0,arguments.length)return{value:t,done:!0};return{done:!0}})),$r&&Q(r,$r,(function(){return n.entries()})),r})),Q(Te.prototype,"get",(function(t){var n;if(!de(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(!Vr(t))throw new TypeError(D("invalid argument. Must provide a nonnegative integer. Value: `%s`.",t));if(!(t>=this._length))return new Fr((n=this._buffer)[t*=2],n[t+1])})),Dr(Te.prototype,"length",(function(){return this._length})),Q(Te.prototype,"set",(function(t){var n,r,e,i,o,a,u,f,l;if(!de(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(e=this._buffer,arguments.length>1){if(!Vr(r=arguments[1]))throw new TypeError(D("invalid argument. Index argument must be a nonnegative integer. Value: `%s`.",r))}else r=0;if(Mr(t)){if(r>=this._length)throw new RangeError(D("invalid argument. Index argument is out-of-bounds. Value: `%u`.",r));return e[r*=2]=le(t),void(e[r+1]=ce(t))}if(de(t)){if(r+(a=t._length)>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(n=t._buffer,l=e.byteOffset+r*we,n.buffer===e.buffer&&n.byteOffset<l&&n.byteOffset+n.byteLength>l){for(i=new Wn(n.length),f=0;f<n.length;f++)i[f]=n[f];n=i}for(r*=2,l=0,f=0;f<a;f++)e[r]=n[l],e[r+1]=n[l+1],r+=2,l+=2}else{if(!It(t))throw new TypeError(D("invalid argument. First argument must be either a complex number, an array-like object, or a complex number array. Value: `%s`.",t));for(a=t.length,f=0;f<a;f++)if(!Mr(t[f])){o=!0;break}if(o){if(!Yr(a))throw new RangeError(D("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `%u`.",a));if(r+a/2>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(n=t,l=e.byteOffset+r*we,n.buffer===e.buffer&&n.byteOffset<l&&n.byteOffset+n.byteLength>l){for(i=new Wn(a),f=0;f<a;f++)i[f]=n[f];n=i}for(r*=2,a/=2,l=0,f=0;f<a;f++)e[r]=n[l],e[r+1]=n[l+1],r+=2,l+=2;return}if(r+a>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");for(r*=2,f=0;f<a;f++)u=t[f],e[r]=le(u),e[r+1]=ce(u),r+=2}}));var Ae=[Wn,Zn,er,Kn,yr,fr,Or,wr,xr,fe,Te],je=["float64","float32","int32","uint32","int16","uint16","int8","uint8","uint8c","complex64","complex128"],Se=je.length;function Oe(t){var n;if(jt(t))return"generic";if(Kt(t))return null;for(n=0;n<Se;n++)if(t instanceof Ae[n])return je[n];return Pn[Qt(t)]||null}function Ve(t){var n,r,e;if(!It(t))throw new TypeError(D("invalid argument. Must provide an array-like object. Value: `%s`.",t));return e=Oe(t),Ln(t)&&(n=Fn(e)),r=t.length,void 0===n?function(n){var e;for(e=0;e<r;e++)if(t[e]===n)return!0;return!1}:function(e){var i;for(i=0;i<r;i++)if(n(t,i)===e)return!0;return!1}}Q((function(t,n){var r,e,i,o;for(i=Oe(t),e=Ln(t)?Fn(i):function(t){var n=Cn[t];return"function"==typeof n?n:Cn.default}(i),r=t.length,o=0;o<r;o++)if(e(t,o)===n)return!0;return!1}),"factory",Ve);var ke=["float32","float64","generic","int16","int32","int8","uint16","uint32","uint8","uint8c","complex64","complex128"];function Re(){return ke.slice()}var Ie=Ve(Re()),Le=Ve(Re());function Be(t){return dt(t)||function(t){return null===t}(t)||function(t){return void 0===t}(t)}function Fe(){var t,n,r,e;if(0===(t=arguments.length)?(n=null,r=null,e=null):1===t?(n=null,r=arguments[0],e=null):2===t?(n=arguments[0],r=arguments[1],e=null):(n=arguments[0],r=arguments[1],e=arguments[2]),!(this instanceof Fe))return new Fe(n,r,e);if(!Be(n))throw new TypeError(D("invalid argument. First argument must be an integer, null, or undefined. Value: `%s`.",n));if(!Be(r))throw new TypeError(D("invalid argument. Second argument must be an integer, null, or undefined. Value: `%s`.",r));if(!Be(e))throw new TypeError(D("invalid argument. Third argument must be an integer, null, or undefined. Value: `%s`.",e));if(0===e)throw new RangeError(D("invalid argument. Third argument cannot be zero. Value: `%s`.",e));return this._start=void 0===n?null:n,this._stop=void 0===r?null:r,this._step=void 0===e?null:e,this}function Ce(t,n,r){var e,i,o;if(e=t.start,i=t.stop,null===(o=t.step)&&(o=1),null===e)e=o>0?0:n-1;else if(e<0){if((e=n+e)<0){if(r)return{code:"ERR_SLICE_OUT_OF_BOUNDS"};e=0}}else if(e>=n){if(r)return{code:"ERR_SLICE_OUT_OF_BOUNDS"};e=o<0?n-1:n}if(null===i)i=o>0?n:null;else if(i<0){if((i=n+i)<0)if(o>0){if(r)return{code:"ERR_SLICE_OUT_OF_BOUNDS"};i=0}else{if(r&&i<-1)return{code:"ERR_SLICE_OUT_OF_BOUNDS"};i=null}}else if(i>n){if(r)return{code:"ERR_SLICE_OUT_OF_BOUNDS"};i=n}return new Fe(e,i,o)}Q(Fe,"name","Slice"),Dr(Fe.prototype,"start",(function(){return this._start})),Dr(Fe.prototype,"stop",(function(){return this._stop})),Dr(Fe.prototype,"step",(function(){return this._step})),Q(Fe.prototype,"toString",(function(){return"Slice("+this._start+","+this._stop+","+this.step+")"})),Q(Fe.prototype,"toJSON",(function(){return{type:"Slice",data:[this._start,this._stop,this._step]}}));var Pe=Math.ceil;var Ue={float64:Wn,float32:Zn,generic:Array,int16:yr,int32:er,int8:Or,uint16:fr,uint32:Kn,uint8:wr,uint8c:xr,complex64:fe,complex128:Te};var Ne={float64:function(t,n){return t[n]},float32:function(t,n){return t[n]},int32:function(t,n){return t[n]},int16:function(t,n){return t[n]},int8:function(t,n){return t[n]},uint32:function(t,n){return t[n]},uint16:function(t,n){return t[n]},uint8:function(t,n){return t[n]},uint8c:function(t,n){return t[n]},generic:function(t,n){return t[n]},default:function(t,n){return t[n]}};function Me(t){var n=Ne[t];return"function"==typeof n?n:Ne.default}var Ye={float64:function(t,n,r){t[n]=r},float32:function(t,n,r){t[n]=r},int32:function(t,n,r){t[n]=r},int16:function(t,n,r){t[n]=r},int8:function(t,n,r){t[n]=r},uint32:function(t,n,r){t[n]=r},uint16:function(t,n,r){t[n]=r},uint8:function(t,n,r){t[n]=r},uint8c:function(t,n,r){t[n]=r},generic:function(t,n,r){t[n]=r},default:function(t,n,r){t[n]=r}};function We(t){var n=Ye[t];return"function"==typeof n?n:Ye.default}var $e={complex128:function(t,n){return t.get(n)},complex64:function(t,n){return t.get(n)},default:function(t,n){return t.get(n)}};function De(t){var n=$e[t];return"function"==typeof n?n:$e.default}var Ge={complex128:function(t,n,r){t.set(r,n)},complex64:function(t,n,r){t.set(r,n)},default:function(t,n,r){t.set(r,n)}};function Xe(t){var n=Ge[t];return"function"==typeof n?n:Ge.default}function Ze(t){var n=function(t){var n,r=Oe(t);return"function"==typeof(n=t).get&&"function"==typeof n.set?{accessorProtocol:!0,accessors:[De(r),Xe(r)]}:{accessorProtocol:!1,accessors:[Me(r),We(r)]}}(t);return{data:t,accessorProtocol:n.accessorProtocol,accessors:n.accessors}}function ze(t,n,r,e,i,o,a){var u,f,l,c,s,p,y;for(u=n.data,f=i.data,c=n.accessors[0],l=i.accessors[1],s=e,p=a,y=0;y<t;y++)l(f,p,c(u,s)),s+=r,p+=o;return n}function Je(t,n,r,e,i){var o,a,u,f,l,c;if(t<=0)return e;if(u=Ze(n),f=Ze(e),u.accessorProtocol||f.accessorProtocol)return ze(t,u,r,o=r<0?(1-t)*r:0,f,i,a=i<0?(1-t)*i:0),f.data;if(1===r&&1===i){if((l=t%8)>0)for(c=0;c<l;c++)e[c]=n[c];if(t<8)return e;for(c=l;c<t;c+=8)e[c]=n[c],e[c+1]=n[c+1],e[c+2]=n[c+2],e[c+3]=n[c+3],e[c+4]=n[c+4],e[c+5]=n[c+5],e[c+6]=n[c+6],e[c+7]=n[c+7];return e}for(o=r<0?(1-t)*r:0,a=i<0?(1-t)*i:0,c=0;c<t;c++)e[a]=n[o],o+=r,a+=i;return e}function He(t,n,r,e,i,o,a){var u,f,l,c,s,p;if(t<=0)return i;if(l=Ze(n),c=Ze(i),l.accessorProtocol||c.accessorProtocol)return ze(t,l,r,e,c,o,a),c.data;if(u=e,f=a,1===r&&1===o){if((s=t%8)>0)for(p=0;p<s;p++)i[f]=n[u],u+=r,f+=o;if(t<8)return i;for(p=s;p<t;p+=8)i[f]=n[u],i[f+1]=n[u+1],i[f+2]=n[u+2],i[f+3]=n[u+3],i[f+4]=n[u+4],i[f+5]=n[u+5],i[f+6]=n[u+6],i[f+7]=n[u+7],u+=8,f+=8;return i}for(p=0;p<t;p++)i[f]=n[u],u+=r,f+=o;return i}Q(Je,"ndarray",He);var qe={complex128:function(t,n){return t.get(n)},complex64:function(t,n){return t.get(n)},default:function(t,n){return t.get(n)}};var Ke={float64:function(t,n){return t[n]},float32:function(t,n){return t[n]},int32:function(t,n){return t[n]},int16:function(t,n){return t[n]},int8:function(t,n){return t[n]},uint32:function(t,n){return t[n]},uint16:function(t,n){return t[n]},uint8:function(t,n){return t[n]},uint8c:function(t,n){return t[n]},generic:function(t,n){return t[n]},default:function(t,n){return t[n]}};function Qe(t){var n,r,e,i,o,a;for(i=Oe(t),e="function"==typeof(a=t).get&&"function"==typeof a.set?function(t){var n=qe[t];return"function"==typeof n?n:qe.default}(i):function(t){var n=Ke[t];return"function"==typeof n?n:Ke.default}(i),r=t.length,n=[],o=0;o<r;o++)n.push(e(t,o));return n}function ti(t){return"complex64"===t}function ni(t){return"complex128"===t}function ri(t,n){var r,e,i,o,a,u;if(!It(t))throw new TypeError(D("invalid argument. First argument must be an array-like object. Value: `%s`.",t));if("generic"===n)return Qe(t);if(e=function(t){return Ue[t]||null}(n),null===e)throw new TypeError(D("invalid argument. Second argument must be a recognized array data type. Value: `%s`.",n));return a=t.length,r=ti(u=Oe(t)),o=new e(a),r||ni(u)?(i=r?Zr(t,0):zr(t,0),ti(n)?(Je(2*a,i,1,Zr(o,0),1),o):ni(n)?(Je(2*a,i,1,zr(o,0),1),o):(Je(a,i,2,o,1),o)):(r=ti(n))||ni(n)?(Je(a,t,1,r?Zr(o,0):zr(o,0),2),o):(Je(a,t,1,o,1),o)}function ei(t,n,r,e){var i,o,a,u,f,l,c,s,p;if(a=Oe(t)||"generic",u=Oe(n)||"generic",i=t.length,o=n.length,!((s=a)===(p=u)||In[s][p]>0))throw new TypeError(D("invalid argument. Input array values cannot be safely cast to the output array data type. Data types: [%s, %s].",a,u));if(Le(u)&&Ie(a)&&(t=ri(t,u)),(f=Ce(r,o,!0)).code){if(e)throw new RangeError(D("invalid argument. Slice exceeds array bounds. Array length: %d.",o));f=Ce(r,o,!1)}if(c=function(t){var n,r,e;return r=t.start,null===(e=t.stop)&&(e=-1),(n=t.step)>0&&r>=e||n<0&&r<=e?0:Pe((e-r)/n)}(f),1===i)l=0;else{if(i!==c)throw new Error(D("invalid argument. Input array and the output array slice are broadcast incompatible. Array length: %u. Desired length: %u.",i,c));l=1}return He(c,t,l,0,n,f.step,f.start),n}export{ei as default};
//# sourceMappingURL=mod.js.map
